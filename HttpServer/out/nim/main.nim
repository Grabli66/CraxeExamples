# Generated by Haxe 4.0.0-rc.2+175840a
# Hail to Mighty CRAXE!!!

{.experimental: "codeReordering".}

import nimboot
import asynchttpserver
import asyncdispatch

type 
    HttpServer = ref object of RootObj

    HttpServerStatic = object of RootObj


let HttpServerStaticInst = HttpServerStatic()

proc main(this:HttpServerStatic) : void =
    var httpServer = newAsyncHttpServer()
    discard httpServer.serve(Port(26301), 
        proc(req:Request):Future[void] = 
            return req.respond(HttpCode(200), "Hello world!")
    )
    runForever()

proc `$`(this:HttpServer) : string {.inline.} = 
    result = "HttpServer" & $this[]

HttpServerStaticInst.main()